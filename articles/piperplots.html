<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rems2aquachem">
<title>Custom piperplots • rems2aquachem</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Custom piperplots">
<meta property="og:description" content="rems2aquachem">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rems2aquachem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.4.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/rems2aquachem.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/piperplots.html">Custom piperplots</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="piperplots_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Custom piperplots</h1>
            
      
      
      <div class="d-none name"><code>piperplots.Rmd</code></div>
    </div>

    
    
<p>rems2aquachem has a function for creating piper plots based on functions from the USGS package smwrGraphs. With <code><a href="../reference/piper_plot.html">piper_plot()</a></code> we can create custom piper plots using data from EMS but with the option to add grouping variables from other data sets.</p>
<p>This vignette will walk you through how to create custom piper plots using the <code><a href="../reference/piper_plot.html">piper_plot()</a></code> function in R.</p>
<blockquote>
<p>Note: Currently you can only customize your piper plots in R (not via the Shiny app).</p>
</blockquote>
<p>Let’s get started!</p>
<p>First we’ll load the packages we want to use</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bcgov.github.io/rems2aquachem">rems2aquachem</a></span><span class="op">)</span>  <span class="co"># To download EMS data and create piper plots</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>          <span class="co"># To manipulate our data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span>      <span class="co"># To manipulate dates</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html" class="external-link">opts_chunk</a></span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>fig.width <span class="op">=</span> <span class="fl">8</span>, fig.asp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Now let’s get our data by downloading from EMS (using the rems package under the hood). Because <code><a href="../reference/rems_to_aquachem.html">rems_to_aquachem()</a></code> is generally used for exporting data to AquaChem, we use the <code>save = FALSE</code> argument to avoid saving to disk, and then use the <code><a href="../reference/units_remove.html">units_remove()</a></code> function to remove the units normally stored in the first row of AquaChem data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rems_to_aquachem.html">rems_to_aquachem</a></span><span class="op">(</span>ems_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1401030"</span>, <span class="st">"1401377"</span>, <span class="st">"E292373"</span><span class="op">)</span>, save <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Checking for locally stored historical data...</span></span>
<span><span class="co">#&gt; Last download was 2 days ago</span></span>
<span><span class="co">#&gt; If you would like to update historical data, run 'rems::download_historic_data()'</span></span>
<span><span class="co">#&gt; Checking for locally stored recent data...</span></span>
<span><span class="co">#&gt; Fetching data from cache...</span></span>
<span><span class="co">#&gt; For consistency EMS charge balances, anion sums, and cation sums have been replaced with recalculated values.</span></span>
<span><span class="co">#&gt; See `?charge_balance` for more details.</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/units_remove.html">units_remove</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></code></pre></div>
<p>Let’s take a quick look… lots of data!</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span></span>
<span><span class="co">#&gt; # A tibble: 15 × 178</span></span>
<span><span class="co">#&gt;    Sample_Date SampleID  Coord_Lat Project     Coord_Long StationID Watertype Analysis_Date shortWatertype Comment</span></span>
<span><span class="co">#&gt;    &lt;date&gt;      &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;date&gt;        &lt;chr&gt;          &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 1987-07-07  1401030-1      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  2 1991-08-07  1401030-2      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  3 1994-06-08  1401030-3      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  4 2001-09-09  1401030-4      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  5 2009-11-11  1401030-5      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  6 2010-08-09  1401030-6      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  7 2016-11-02  1401030-7      49.2 BACKGROUND       -120. 075       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  8 2018-06-14  1401030-8      49.2 BACKGROUND       -120. 075       Ground W… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt;  9 1987-07-07  1401377-1      49.2 BACKGROUND       -120. 203       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; 10 1989-10-11  1401377-2      49.2 BACKGROUND       -120. 203       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; 11 1994-03-24  1401377-3      49.2 BACKGROUND       -120. 203       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; 12 2016-11-02  1401377-4      49.2 BACKGROUND       -120. 203       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; 13 2020-06-29  1401377-5      49.2 BACKGROUND       -120. 203       Ground W… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; 14 2015-03-06  E292373-1      49.4 GROUNDWATER      -125. 426       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; 15 2017-10-11  E292373-2      49.4 GROUNDWATER      -125. 426       Fresh Wa… NA            &lt;NA&gt;           &lt;NA&gt;   </span></span>
<span><span class="co">#&gt; # … with 168 more variables: Reference &lt;chr&gt;, Quality_control &lt;chr&gt;, Duplicate_ID &lt;chr&gt;, Labcode &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   Location &lt;dbl&gt;, Geology &lt;chr&gt;, X &lt;dbl&gt;, Y &lt;dbl&gt;, Elevation &lt;dbl&gt;, Well_Depth &lt;dbl&gt;, Screen_Top &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   Screen_Mid &lt;dbl&gt;, Screen_Bottom &lt;dbl&gt;, Gradient &lt;chr&gt;, Station_Comment &lt;chr&gt;, Sample_Depth &lt;dbl&gt;, Temp &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   `14C` &lt;dbl&gt;, `18O` &lt;dbl&gt;, `2H` &lt;dbl&gt;, Ag_diss &lt;dbl&gt;, Ag_tot &lt;dbl&gt;, Al_diss &lt;dbl&gt;, Al_tot &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   As_diss &lt;dbl&gt;, As_tot &lt;dbl&gt;, B &lt;dbl&gt;, B_tot &lt;dbl&gt;, Ba &lt;dbl&gt;, Ba_tot &lt;dbl&gt;, Benzene &lt;dbl&gt;, Br &lt;dbl&gt;, Ca &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   Ca_tot &lt;dbl&gt;, Cd_diss &lt;dbl&gt;, Cd_tot &lt;dbl&gt;, Cl &lt;dbl&gt;, CN_diss &lt;dbl&gt;, CN_tot &lt;dbl&gt;, Co_diss &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   Co_tot &lt;dbl&gt;, CO3 &lt;dbl&gt;, Cond &lt;dbl&gt;, Cond_field &lt;dbl&gt;, Cr_diss &lt;dbl&gt;, Cr_III_diss &lt;dbl&gt;, Cr_tot &lt;dbl&gt;, …</span></span></code></pre></div>
<p>By default, the piper plot creates a plot with points coloured by EMS ID.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4" width="80%" style="display: block; margin: auto;"></p>
<p>We can override this by specifying the <code>group</code> argument ourselves. In this case, let’s create a column <code>Year</code> and colour points that.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">r</span>, Year <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">Sample_Date</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span>, group <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-5-1.png" alt="plot of chunk unnamed-chunk-5" width="80%" style="display: block; margin: auto;"></p>
<p>We can also customize the appearance of the points.</p>
<p>First let’s create some year categories to group by. We’ll also turn this variable into a factor (category) and specify the order of the levels so our legend is in the correct order.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">r</span>, </span>
<span>            Year_cat <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">&lt;</span> <span class="fl">2010</span> <span class="op">~</span> <span class="st">"Pre 2010s"</span>,</span>
<span>                                 <span class="va">Year</span> <span class="op">&gt;=</span> <span class="fl">2010</span> <span class="op">&amp;</span> <span class="va">Year</span> <span class="op">&lt;=</span> <span class="fl">2015</span> <span class="op">~</span> <span class="st">"2010-2015"</span>,</span>
<span>                                 <span class="va">Year</span> <span class="op">&gt;</span> <span class="fl">2015</span> <span class="op">~</span> <span class="st">"&gt;2015"</span><span class="op">)</span>,</span>
<span>            Year_cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Year_cat</span>, </span>
<span>                              levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pre 2010s"</span>, <span class="st">"2010-2015"</span>, <span class="st">"&gt;2015"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Note that we need to match the number of groups to the number of colours, shapes, etc. or supply only one value. For example, here we want all the points to be large and open, so we specify <code>point_size = 0.2</code> and <code>point_filled = FALSE</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span>, group <span class="op">=</span> <span class="st">"Year_cat"</span>,</span>
<span>           point_colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#21908C"</span>, <span class="st">"#440154"</span>, <span class="st">"#9AD93C"</span><span class="op">)</span>, </span>
<span>           point_shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"square"</span>, <span class="st">"triangle"</span>, <span class="st">"circle"</span><span class="op">)</span>, </span>
<span>           point_filled <span class="op">=</span> <span class="cn">FALSE</span>, point_size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-7-1.png" alt="plot of chunk unnamed-chunk-7" width="80%" style="display: block; margin: auto;"></p>
<p>Hmm, those points are a bit tough to see</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span>, group <span class="op">=</span> <span class="st">"Year_cat"</span>,</span>
<span>           point_colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#21908C"</span>, <span class="st">"#440154"</span>, <span class="st">"#9AD93C"</span><span class="op">)</span>, </span>
<span>           point_shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"square"</span>, <span class="st">"triangle"</span>, <span class="st">"circle"</span><span class="op">)</span>, </span>
<span>           point_filled <span class="op">=</span> <span class="cn">TRUE</span>, point_size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" width="80%" style="display: block; margin: auto;"></p>
<p>Perhaps with a bit of transparency? We can add this by adding two digits to the end of our colour codes. <code>"#21908C"</code> -&gt; <code>"#21908C90</code>" adds a touch of transparency. (We can also omit <code>point_filled = TRUE</code> as points are filled by default.)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span>, group <span class="op">=</span> <span class="st">"Year_cat"</span>,</span>
<span>           point_colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#21908C90"</span>, <span class="st">"#44015490"</span>, <span class="st">"#9AD93C90"</span><span class="op">)</span>, </span>
<span>           point_shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"square"</span>, <span class="st">"triangle"</span>, <span class="st">"circle"</span><span class="op">)</span>, </span>
<span>           point_size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9" width="80%" style="display: block; margin: auto;"></p>
<p>Finally we can adjust the legend position and title</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span>, group <span class="op">=</span> <span class="st">"Year_cat"</span>,</span>
<span>           point_colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#21908C90"</span>, <span class="st">"#44015490"</span>, <span class="st">"#9AD93C90"</span><span class="op">)</span>, </span>
<span>           point_shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"square"</span>, <span class="st">"triangle"</span>, <span class="st">"circle"</span><span class="op">)</span>, </span>
<span>           point_size <span class="op">=</span> <span class="fl">0.2</span>, </span>
<span>           legend_position <span class="op">=</span> <span class="st">"topright"</span>,</span>
<span>           legend_title <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-10-1.png" alt="plot of chunk unnamed-chunk-10" width="80%" style="display: block; margin: auto;"></p>
<p>We can put the legend anywhere we want. Think about the plot area as running from -1 to 1 from left to right (x) and -1 to 1 from top to bottom (y). We then specify the (x,y) coordinates that we want. You can even go out of the plotting area by specifying numbers out of the -1 to 1 range.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/piper_plot.html">piper_plot</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">r</span>, group <span class="op">=</span> <span class="st">"Year_cat"</span>,</span>
<span>           point_colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#21908C90"</span>, <span class="st">"#44015490"</span>, <span class="st">"#9AD93C90"</span><span class="op">)</span>, </span>
<span>           point_shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"square"</span>, <span class="st">"triangle"</span>, <span class="st">"circle"</span><span class="op">)</span>, </span>
<span>           point_size <span class="op">=</span> <span class="fl">0.2</span>, </span>
<span>           legend_position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>           legend_title <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="piper-unnamed-chunk-11-1.png" alt="plot of chunk unnamed-chunk-11" width="80%" style="display: block; margin: auto;"></p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Steffi LaZerte, Andarge Baye.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
