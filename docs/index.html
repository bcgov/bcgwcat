<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download from rems and export data in format for AquaChem • rems2aquachem</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download from rems and export data in format for AquaChem">
<meta property="og:description" content="Use bcgov package rems to download data for specific EMS ids. 
    Convert data to format for easy importing into AquaChem. ShinyApp included 
    to provide user-friendly GUI.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rems2aquachem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/rems2aquachem.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="rems2aquachem" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rems2aquachem" class="anchor"></a><code>rems2aquachem</code>
</h1></div>
<!-- badges: start -->
<!-- [![Travis build status](https://travis-ci.org/bcgov/rems2aquachem.svg?branch=master)](https://travis-ci.org/bcgov/rems2aquachem) -->
<!-- badges: end -->
<p>The goal of <code>rems2aquachem</code> is to provide a quick and painless way of converting EMS data into a format compatible with AquaChem.</p>
<p>Data is first downloaded with BC Govs <a href="http://github.com/bcgov/rems"><code>rems</code></a> package, then formatted for use by AquaChem.</p>
<div id="installation-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#installation-steps" class="anchor"></a>Installation steps</h2>
<ol>
<li><p><a href="https://rstudio.com/"><strong>Update RStudio</strong></a> (if it’s been a while)</p></li>
<li><p><a href="https://cloud.r-project.org/"><strong>Update R</strong></a> (if it’s been a while)</p></li>
<li><p><strong>Open RStudio</strong></p></li>
<li>
<p><strong>Install <code>remotes</code></strong> In the console type the following and hit enter</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p><strong>Update <code>rems</code></strong> In the console type the following and hit enter</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"bcgov/rems"</span><span class="op">)</span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> If you run into errors during the <code>rems</code> data updates, this might be due to old rems caches.</p>
<strong>Try the following:</strong>
<ol>
<li><p>Uninstall <code>rems</code> - RStudio, go to the lower right hand window, click on the “Packages” tab, in the search bar, search for “rems”, then click on the “X” in a circle to the right of it’s name.</p></li>
<li><p>Remove the <code>rems</code> cache - Delete the cache folders by going to C:_USER(windows) or ~/Library/Application Support (mac) and delete the “rems” folder</p></li>
<li><p>Re-install <code>rems</code> remotes::install_github(“bcgov/rems”) and then try again</p></li>
</ol>
</blockquote>
</li>
<li>
<p><strong>Install <code>rems2aquachem</code></strong> In the console type the following and hit enter (be sure to install all updates if prompted!)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"bcgov/rems2aquachem"</span><span class="op">)</span></code></pre></div>
</li>
</ol>
<p>If you run into errors right at the start, consider updating your packages.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/update_packages.html">update_packages</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="using-rems2aquachem" class="section level2">
<h2 class="hasAnchor">
<a href="#using-rems2aquachem" class="anchor"></a>Using <code>rems2aquachem</code>
</h2>
<div id="shiny-gui" class="section level3">
<h3 class="hasAnchor">
<a href="#shiny-gui" class="anchor"></a>Shiny GUI</h3>
<ol>
<li>
<p>In RStudio, first load the <code>rems2aquachem</code> package (this must be done every time)</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rems2aquachem</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>Next, launch the shiny GUI.</p>
<p>Type the following in the console and hit enter</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/ac_gui.html">ac_gui</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</li>
</ol>
<p><strong>See the <a href="https://bcgov.github.io/rems2aquachem/articles/rems2aquachem.html">tutorial</a> for a more in-depth look at the GUI</strong></p>
<p><img src="https://raw.githubusercontent.com/bcgov/rems2aquachem/master/inst/assets/up-to-date.png" alt="Screenshot"></p>
</div>
<div id="r-command-line" class="section level3">
<h3 class="hasAnchor">
<a href="#r-command-line" class="anchor"></a>R command line</h3>
<p>For advanced users, <code>rems2aquachem</code> can be used directly from R.</p>
<p>Downloads, converts and saves to csv</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rems2aquachem</span><span class="op">)</span>
<span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rems_to_aquachem.html">rems_to_aquachem</a></span><span class="op">(</span>ems_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1401030"</span>, <span class="st">"1401377"</span>, <span class="st">"E292373"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Checking for locally stored historical data...</span>
<span class="co">#&gt; Last download was 0 days ago</span>
<span class="co">#&gt; If you would like to update historical data, run 'rems::download_historic_data()'</span>
<span class="co">#&gt; Checking for locally stored recent data...</span>
<span class="co">#&gt; Fetching data from cache...</span>
<span class="va">r</span>
<span class="co">#&gt; # A tibble: 16 x 145</span>
<span class="co">#&gt;    StationID SampleID Sample_Date Analysis_Date Project Watertype shortWatertype Comment Reference</span>
<span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;    </span>
<span class="co">#&gt;  1 ""        ""       ""          ""            ""      ""        ""             ""      ""       </span>
<span class="co">#&gt;  2 "075"     "140103… "1987-07-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  3 "075"     "140103… "1991-08-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  4 "075"     "140103… "1994-06-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  5 "075"     "140103… "2001-09-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  6 "075"     "140103… "2009-11-1…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  7 "075"     "140103… "2010-08-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  8 "075"     "140103… "2016-11-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt;  9 "075"     "140103… "2018-06-1…  &lt;NA&gt;         "BACKG… "Ground …  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 10 "203"     "140137… "1987-07-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 11 "203"     "140137… "1989-10-1…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 12 "203"     "140137… "1994-03-2…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 13 "203"     "140137… "2016-11-0…  &lt;NA&gt;         "BACKG… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 14 "203"     "140137… "2020-06-2…  &lt;NA&gt;         "BACKG… "Ground …  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 15 "426"     "E29237… "2015-03-0…  &lt;NA&gt;         "GROUN… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; 16 "426"     "E29237… "2017-10-1…  &lt;NA&gt;         "GROUN… "Fresh W…  &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;    </span>
<span class="co">#&gt; # … with 136 more variables: Quality_control &lt;chr&gt;, Duplicate_ID &lt;chr&gt;, Labcode &lt;chr&gt;, Location &lt;chr&gt;,</span>
<span class="co">#&gt; #   Geology &lt;chr&gt;, Coord_Lat &lt;chr&gt;, Coord_Long &lt;chr&gt;, X &lt;chr&gt;, Y &lt;chr&gt;, Elevation &lt;chr&gt;, Well_Depth &lt;chr&gt;,</span>
<span class="co">#&gt; #   Screen_Top &lt;chr&gt;, Screen_Mid &lt;chr&gt;, Screen_Bottom &lt;chr&gt;, Gradient &lt;chr&gt;, Station_Comment &lt;chr&gt;,</span>
<span class="co">#&gt; #   Sample_Depth &lt;chr&gt;, Temp &lt;chr&gt;, pH_lab &lt;chr&gt;, Cond &lt;chr&gt;, Meas_Alk &lt;chr&gt;, CO3 &lt;chr&gt;, HCO3 &lt;chr&gt;,</span>
<span class="co">#&gt; #   Cl &lt;chr&gt;, F &lt;chr&gt;, Meas_Hardness &lt;chr&gt;, NH4 &lt;chr&gt;, NO3 &lt;chr&gt;, NO2 &lt;chr&gt;, SO4 &lt;chr&gt;, Ag_diss &lt;chr&gt;,</span>
<span class="co">#&gt; #   Al_diss &lt;chr&gt;, As_diss &lt;chr&gt;, anion_sum &lt;chr&gt;, B &lt;chr&gt;, Ba &lt;chr&gt;, Ca &lt;chr&gt;, charge_balance &lt;chr&gt;,</span>
<span class="co">#&gt; #   Cd_diss &lt;chr&gt;, Cr_diss &lt;chr&gt;, cation_sum &lt;chr&gt;, Cu_diss &lt;chr&gt;, DO &lt;chr&gt;, Fe_diss &lt;chr&gt;, K &lt;chr&gt;,</span>
<span class="co">#&gt; #   Mg &lt;chr&gt;, Mn_diss &lt;chr&gt;, Mo_diss &lt;chr&gt;, Na &lt;chr&gt;, Ni_diss &lt;chr&gt;, Pb_diss &lt;chr&gt;, pH_field &lt;chr&gt;,</span>
<span class="co">#&gt; #   Sb_diss &lt;chr&gt;, Cond_field &lt;chr&gt;, Se_diss &lt;chr&gt;, Si &lt;chr&gt;, Sr &lt;chr&gt;, Tl_diss &lt;chr&gt;, U_diss &lt;chr&gt;,</span>
<span class="co">#&gt; #   V_diss &lt;chr&gt;, Zn_diss &lt;chr&gt;, Cd_tot &lt;chr&gt;, Zn_tot &lt;chr&gt;, Fe_tot &lt;chr&gt;, Cu_tot &lt;chr&gt;, Ni_tot &lt;chr&gt;,</span>
<span class="co">#&gt; #   Al_tot &lt;chr&gt;, Tl_tot &lt;chr&gt;, As_tot &lt;chr&gt;, Sb_tot &lt;chr&gt;, V_tot &lt;chr&gt;, Mo_tot &lt;chr&gt;, Ag_tot &lt;chr&gt;,</span>
<span class="co">#&gt; #   Pb_tot &lt;chr&gt;, Li &lt;chr&gt;, Mn_tot &lt;chr&gt;, U_tot &lt;chr&gt;, Br &lt;chr&gt;, `Acidity_pH_4_5_(as_CaCO3)` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Acidity_pH_8_3_(as_CaCO3)` &lt;chr&gt;, `Alkalinity;_Phenolphthalein_(as_CaCO3)` &lt;chr&gt;, Barium_Total &lt;chr&gt;,</span>
<span class="co">#&gt; #   Beryllium_Dissolved &lt;chr&gt;, Beryllium_Total &lt;chr&gt;, Bismuth_Dissolved &lt;chr&gt;, Bismuth_Total &lt;chr&gt;,</span>
<span class="co">#&gt; #   Boron_Total &lt;chr&gt;, Calcium_Total &lt;chr&gt;, Carbon_Dissolved_Organic &lt;chr&gt;, Chromium_Total &lt;chr&gt;,</span>
<span class="co">#&gt; #   Cobalt_Dissolved &lt;chr&gt;, Cobalt_Total &lt;chr&gt;, Cyanide_WAD &lt;chr&gt;, `Hardness_Total_(Total)` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Hydroxide_Alkalinity_(as_CaCO3)` &lt;chr&gt;, Lithium_Total &lt;chr&gt;, Magnesium_Total &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Nitrate(NO3)_+_Nitrite(NO2)_Dissolved` &lt;chr&gt;, `Nitrogen_(Kjeldahl)_Total_Dissolved` &lt;chr&gt;,</span>
<span class="co">#&gt; #   Nitrogen_Ammonia_Total &lt;chr&gt;, …</span></code></pre></div>
<p>Create plots</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/piper_plot.html">piper_plot</a></span><span class="op">(</span><span class="va">r</span>, ems_id <span class="op">=</span> <span class="st">"1401030"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="50%"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/stiff_plot.html">stiff_plot</a></span><span class="op">(</span><span class="va">r</span>, ems_id <span class="op">=</span> <span class="st">"1401030"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-1.png" width="50%"></p>
</div>
</div>
<div id="vignettetutorials" class="section level2">
<h2 class="hasAnchor">
<a href="#vignettetutorials" class="anchor"></a>Vignette/Tutorials</h2>
<p>See the <a href="https://bcgov.github.io/rems2aquachem"><code>rems2aquachem</code> website</a></p>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>Copyright 2021 Province of British Columbia</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" class="uri">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Steffi LaZerte <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/bcgov/repomountie/blob/master/doc/lifecycle-badges.md"><img src="https://img.shields.io/badge/Lifecycle-Maturing-007EC6" alt="img"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Steffi LaZerte.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
